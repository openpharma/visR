<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example alluvial plot analysis using visR • visR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Example alluvial plot analysis using visR">
<meta property="og:description" content="visR">
<meta property="og:image" content="https://openpharma.github.io/visR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">visR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Alluvial.html">Example alluvial plot analysis using visR</a>
    </li>
    <li>
      <a href="../articles/Example_analysis.html">Survival Analysis with visR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/openpharma/visR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Alluvial_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="Alluvial_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="Alluvial_files/plotly.js-1.47.4/./plotly.min.js"></script><script src="Alluvial_files/parcats-binding-0.0.2/parcats.js"></script><script src="Alluvial_files/kePrint-0.0.1/kePrint.js"></script><link href="Alluvial_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example alluvial plot analysis using visR</h1>
                        <h4 class="author">Paweł Kawski</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/openpharma/visR/blob/master/vignettes/Alluvial.Rmd"><code>vignettes/Alluvial.Rmd</code></a></small>
      <div class="hidden name"><code>Alluvial.Rmd</code></div>

    </div>

    
    
<div id="visr-by-example" class="section level1">
<h1 class="hasAnchor">
<a href="#visr-by-example" class="anchor"></a>visR by Example</h1>
<div id="alluvial-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#alluvial-plot" class="anchor"></a>Alluvial plot</h2>
<p>Alluvial/Sankey plots which are often used for assessing patterns in patient flow, e.g., consecutively received treatments. The function ‘vr_alluvial_plot’ is wrapper based on easyalluvial and parcats packages, to facilitate this task. Short tutorial below.</p>
<pre><code>#&gt; 
#&gt; Attache Paket: 'dplyr'
#&gt; The following objects are masked from 'package:stats':
#&gt; 
#&gt;     filter, lag
#&gt; The following objects are masked from 'package:base':
#&gt; 
#&gt;     intersect, setdiff, setequal, union
#&gt; 
#&gt; Attache Paket: 'visR'
#&gt; The following object is masked from 'package:dplyr':
#&gt; 
#&gt;     summarize
#&gt; The following object is masked from 'package:graphics':
#&gt; 
#&gt;     plot
#&gt; The following object is masked from 'package:base':
#&gt; 
#&gt;     plot</code></pre>
<p><br></p>
<p>To use this function we need to have data, which contain variables: patients ids, treatments names and lines of therapy numbers. Let’s simulate such dataset.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>

<span class="kw">for</span> <span class="op">(</span><span class="va">PatientID</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5000</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">max_line</span> <span class="op">&lt;-</span>
    <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>, <span class="fl">0.15</span>, <span class="fl">0.04</span>, <span class="fl">0.01</span><span class="op">)</span><span class="op">)</span>
  
  <span class="kw">if</span> <span class="op">(</span><span class="va">max_line</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">min_line</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fl">1</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span>
    
  <span class="op">}</span> <span class="kw">else</span><span class="op">{</span>
    <span class="va">min_line</span> <span class="op">&lt;-</span> <span class="fl">0</span>
  <span class="op">}</span>
  
  <span class="kw">for</span> <span class="op">(</span><span class="va">LineNumber</span> <span class="kw">in</span> <span class="va">min_line</span><span class="op">:</span><span class="va">max_line</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">LineName</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>
      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
        <span class="st">'Treatment_A'</span>,
        <span class="st">'Treatment_B'</span>,
        <span class="st">'Treatment_C'</span>,
        <span class="st">'Treatment_D'</span>
      <span class="op">)</span>,
      <span class="fl">1</span>,
      prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>
    <span class="op">)</span>
    
    <span class="va">patient_data_line</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>PatientID <span class="op">=</span> <span class="va">PatientID</span>,
                                    LineName <span class="op">=</span> <span class="va">LineName</span>,
                                    LineNumber <span class="op">=</span> <span class="va">LineNumber</span><span class="op">)</span>
    
    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">patient_data_line</span> , <span class="va">dataset</span><span class="op">)</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<p><br></p>
<p>When we have any dataset, minimally what we need to pass to function in parameters are variable names corresponding to patients ids, treatments names and lines of therapy numbers like that:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/vr_alluvial_plot.html">vr_alluvial_plot</a></span><span class="op">(</span><span class="va">dataset</span>,
                 id <span class="op">=</span> <span class="st">"PatientID"</span>,
                 linename <span class="op">=</span> <span class="st">"LineName"</span>,
                 linenumber <span class="op">=</span> <span class="st">"LineNumber"</span>,
                 data_source <span class="op">=</span> <span class="st">"Simulatation"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="Alluvial_files/figure-html/unnamed-chunk-2-1.png" alt="Alluvial plot for simulated dataset" width="700"><p class="caption">
Alluvial plot for simulated dataset
</p>
</div>
<p><br></p>
<p>If you will use our package to work with Flatiron database, there is good information for you. You do not need to pass variable names because names existing in Flatiron database are taken as default, it means: (“PatientID”, “LineName”, “LineNumber”). In this case you can simply do:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/vr_alluvial_plot.html">vr_alluvial_plot</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span></code></pre></div>
<p><br></p>
<p>Except discussed already parameters there are other important parameters. Here are all of them:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @param n_common Number of most common lines of therapy presented in alluvial plot, Default: 2 </span>
<span class="co">#' @param title plot title, Default: NULL</span>
<span class="co">#' @param interactive, interactive plot, Default: FALSE</span>
<span class="co">#' @param N_unit, Default: 'patients' </span>
<span class="co">#' @param data_source data source name, Default: 'Flatiron'</span>
<span class="co">#' @param fill_by one_of(c('first_variable', 'last_variable', 'all_flows', 'values')), Default: 'first_variable'</span>
<span class="co">#' @param col_vector_flow HEX color values for flows, Default: easyalluvial::palette_filter( greys = F)</span>
<span class="co">#' @param col_vector_value HEX color values  for y levels/values, Default:RColorBrewer::brewer.pal(9, 'Blues')[c(3,6,4,7,5,8)]</span>
<span class="co">#' @param linenames_labels_size, Default: 2.5</span></code></pre></div>
<p><br></p>
<p>Parameter ‘interactive’ gives possibility of seeing interactive version of plot. But remember, this is html vidget and it will not take into account parameters like ‘title’ or ‘data_source’.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/vr_alluvial_plot.html">vr_alluvial_plot</a></span><span class="op">(</span>
  <span class="va">dataset</span>,
  id <span class="op">=</span> <span class="st">"PatientID"</span>,
  linename <span class="op">=</span> <span class="st">"LineName"</span>,
  linenumber <span class="op">=</span> <span class="st">"LineNumber"</span>,
  interactive <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span></code></pre></div>
<div class="figure">
<div id="htmlwidget-eaf0d338b356cf918525" style="width:700px;height:432.632880098888px;" class="parcats html-widget"></div>
<script type="application/json" data-for="htmlwidget-eaf0d338b356cf918525">{"x":{"traces":{"parcats":{"type":"parcats","dimensions":[{"label":"L0","values":["No Tx 0L","No Tx 0L","No Tx 0L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_A 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L","Treatment_B 0L"],"categoryorder":"array","categoryarray":["Treatment_B 0L","Treatment_A 0L","Other Tx","No Tx 0L"]},{"label":"L1","values":["Other Tx","Treatment_A 1L","Treatment_B 1L","No Tx 1L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","No Tx 1L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","No Tx 1L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_A 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L","Treatment_B 1L"],"categoryorder":"array","categoryarray":["Treatment_B 1L","Treatment_A 1L","Other Tx","No Tx 1L"]},{"label":"L2","values":["No Tx 2L","No Tx 2L","No Tx 2L","No Tx 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","No Tx 2L","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_A 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L","Treatment_B 2L"],"categoryorder":"array","categoryarray":["Treatment_B 2L","Treatment_A 2L","Other Tx","No Tx 2L"]},{"label":"L3","values":["No Tx 3L","No Tx 3L","No Tx 3L","No Tx 3L","No Tx 3L","No Tx 3L","Treatment_A 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","No Tx 3L","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","No Tx 3L","Treatment_A 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","No Tx 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","No Tx 3L","Other Tx","Other Tx","Other Tx","Other Tx","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_A 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L","Treatment_B 3L"],"categoryorder":"array","categoryarray":["Treatment_B 3L","Treatment_A 3L","Other Tx","No Tx 3L"]},{"label":"L4","values":["No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","Other Tx","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_B 4L","No Tx 4L","No Tx 4L","Other Tx","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","Treatment_B 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Treatment_A 4L","No Tx 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L","No Tx 4L","Other Tx","Treatment_A 4L","Treatment_B 4L"],"categoryorder":"array","categoryarray":["Treatment_B 4L","Treatment_A 4L","Other Tx","No Tx 4L"]}],"counts":[282,700,444,195,22,6,2,4,25,4,3,4,2,5,1,8,3,1,1,1,1,1,64,21,3,1,8,1,6,2,1,42,8,2,18,1,3,7,1,1,1,40,5,1,1,15,3,2,12,31,12,1,1,4,1,3,1,28,7,12,1,2,6,1,17,1,5,1,3,493,49,20,2,10,1,1,7,60,5,1,21,2,4,3,8,2,4,30,4,1,1,10,1,1,1,8,1,161,51,15,25,3,3,10,1,138,20,2,2,5,41,4,10,7,22,1,4,3,67,11,2,3,32,1,6,6,19,1,1,1,78,32,7,2,9,1,1,2,8,3,83,18,1,28,2,1,2,11,1,2,7,48,4,1,1,18,1,2,16,1,1,310,29,12,3,6,25,3,1,8,1,1,4,1,2,20,1,1,5,1,2,1,1,3,98,28,6,1,12,3,3,2,1,1,75,11,2,3,2,34,2,5,2,11,2,2,1,38,5,17,1,1,1,7,3,2,46,18,6,2,4,42,13,2,14,2,2,3,9,2,35,5,2,1,1,12,2,1,1,3,1,3,1],"line":{"shape":"hspline","color":["#FF0065","#FF0065","#FF0065","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA"]},"hoveron":"category","hoverinfo":"count","labelfont":{"size":24,"color":"black"},"arrangement":"perpendicular","bundlecolors":true,"sortpaths":"forward","tickfont":null,"domain":{"y":[0,1]}}},"layout":[],"shapes":[],"shapes_original":[],"map_curve":[],"map_trace_2_shape":[],"map_type":[],"map_color":[],"parcats_cols":["#FF0065","#FF0065","#FF0065","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#009850","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#A56F2B","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA","#005EAA"],"imp":false},"evals":[],"jsHooks":[]}</script><p class="caption">
Alluvial plot for simulated dataset
</p>
</div>
<p><br></p>
</div>
<div id="alluvial-data-wrangling" class="section level2">
<h2 class="hasAnchor">
<a href="#alluvial-data-wrangling" class="anchor"></a>Alluvial data wrangling</h2>
<p>When you use ‘vr_alluvial_plot’, in the backgroun there is working ‘vr_alluvial_wrangling’ function which is responsible for finding most common treatments in each line of therapy and death (no later treatment) censoring.</p>
<p>You can receive ‘vr_alluvial_wrangling’ output data by:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vr_alluvial_wrangling.html">vr_alluvial_wrangling</a></span><span class="op">(</span><span class="va">dataset</span>,
                                id <span class="op">=</span> <span class="st">"PatientID"</span>,
                                linename <span class="op">=</span> <span class="st">"LineName"</span>,
                                linenumber <span class="op">=</span> <span class="st">"LineNumber"</span>,
                                n_common <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>

<span class="va">output</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">alluvial_plot_data</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">output</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">TRUE</span>,
                            position <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span>
<span class="co">#&gt; Warning in kableExtra::kable_styling(., full_width = TRUE, position = "center"):</span>
<span class="co">#&gt; Please specify format in kable. kableExtra can customize either HTML or LaTeX</span>
<span class="co">#&gt; outputs. See https://haozhu233.github.io/kableExtra/ for details.</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">id</th>
<th align="left">linename</th>
<th align="right">linenumber</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Treatment_A 0L</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">Treatment_A 1L</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">Treatment_A 2L</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">No Tx 3L</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">No Tx 4L</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">No Tx 0L</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">Treatment_B 1L</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">No Tx 2L</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">No Tx 3L</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">No Tx 4L</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>There is also a summary table:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">output</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">linenames_summary</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">output</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">TRUE</span>,
                            position <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:right;">
linenumber
</th>
<th style="text-align:left;">
linename
</th>
<th style="text-align:right;">
patient_count
</th>
<th style="text-align:right;">
freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Treatment_A 0L
</td>
<td style="text-align:right;">
1821
</td>
<td style="text-align:right;">
0.3642
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
No Tx 0L
</td>
<td style="text-align:right;">
1426
</td>
<td style="text-align:right;">
0.2852
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Treatment_B 0L
</td>
<td style="text-align:right;">
1056
</td>
<td style="text-align:right;">
0.2112
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Other Tx
</td>
<td style="text-align:right;">
697
</td>
<td style="text-align:right;">
0.1394
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Treatment_A 1L
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.4060
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Treatment_B 1L
</td>
<td style="text-align:right;">
1207
</td>
<td style="text-align:right;">
0.2414
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
No Tx 1L
</td>
<td style="text-align:right;">
998
</td>
<td style="text-align:right;">
0.1996
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Other Tx
</td>
<td style="text-align:right;">
765
</td>
<td style="text-align:right;">
0.1530
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
No Tx 2L
</td>
<td style="text-align:right;">
3002
</td>
<td style="text-align:right;">
0.6004
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Treatment_A 2L
</td>
<td style="text-align:right;">
997
</td>
<td style="text-align:right;">
0.1994
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Additionally if you need summary table for patients data before truncating data to n most common treatments then you can do it by:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">output</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">linenames_summary_long</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">output</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">TRUE</span>,
                            position <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:right;">
linenumber
</th>
<th style="text-align:left;">
linename
</th>
<th style="text-align:right;">
patient_count
</th>
<th style="text-align:right;">
freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Treatment_A 0L
</td>
<td style="text-align:right;">
1821
</td>
<td style="text-align:right;">
0.3642
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
No Tx 0L
</td>
<td style="text-align:right;">
1426
</td>
<td style="text-align:right;">
0.2852
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Treatment_B 0L
</td>
<td style="text-align:right;">
1056
</td>
<td style="text-align:right;">
0.2112
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Treatment_D 0L
</td>
<td style="text-align:right;">
359
</td>
<td style="text-align:right;">
0.0718
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Treatment_C 0L
</td>
<td style="text-align:right;">
338
</td>
<td style="text-align:right;">
0.0676
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Treatment_A 1L
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.4060
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Treatment_B 1L
</td>
<td style="text-align:right;">
1207
</td>
<td style="text-align:right;">
0.2414
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
No Tx 1L
</td>
<td style="text-align:right;">
998
</td>
<td style="text-align:right;">
0.1996
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Treatment_C 1L
</td>
<td style="text-align:right;">
391
</td>
<td style="text-align:right;">
0.0782
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Treatment_D 1L
</td>
<td style="text-align:right;">
374
</td>
<td style="text-align:right;">
0.0748
</td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Diego Saldana, Charlotta Fruechtenicht, Mark Baillie, Marc Vandemeulebroecke, Thanos Siadimas, Pawel Kawski, Steven Haesendonckx, Pelagia Alexandra Papadopoulou, Tim Treis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
